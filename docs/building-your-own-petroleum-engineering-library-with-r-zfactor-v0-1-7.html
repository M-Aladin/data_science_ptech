<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science for Petroleum Production Engineers</title>
  <meta name="description" content="This is the start of the book of a simple data science book.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Data Science for Petroleum Production Engineers" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the start of the book of a simple data science book." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science for Petroleum Production Engineers" />
  
  <meta name="twitter:description" content="This is the start of the book of a simple data science book." />
  

<meta name="author" content="Alfonso R. Reyes">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="thp-bhp-matching-from-pdg-data.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science for Petroleum Production Engineering</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> date: “2017-10-23”</a></li>
<li class="chapter" data-level="2" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html"><i class="fa fa-check"></i><b>2</b> Data Science for Petroleum Production Engineering (part 1)</a><ul>
<li class="chapter" data-level="2.1" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#the-old-vs-the-new"><i class="fa fa-check"></i><b>2.1</b> The Old vs the New</a></li>
<li class="chapter" data-level="2.2" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#do-worksheets-spreadsheets-makes-you-dumb"><i class="fa fa-check"></i><b>2.2</b> Do worksheets, spreadsheets makes you dumb?</a></li>
<li class="chapter" data-level="2.3" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#why-does-it-take-so-long-to-build-optimization-models"><i class="fa fa-check"></i><b>2.3</b> Why does it take so long to build optimization models?</a></li>
<li class="chapter" data-level="2.4" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#the-cheapest-oil-you-can-find"><i class="fa fa-check"></i><b>2.4</b> The cheapest oil you can find?</a></li>
<li class="chapter" data-level="2.5" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#data-structures-are-our-friends"><i class="fa fa-check"></i><b>2.5</b> Data structures are our friends</a></li>
<li class="chapter" data-level="2.6" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#remember-garbage-in-garbage-out"><i class="fa fa-check"></i><b>2.6</b> Remember: Garbage In, Garbage Out</a></li>
<li class="chapter" data-level="2.7" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#digital-notebooks-are-a-fit-for-engineers"><i class="fa fa-check"></i><b>2.7</b> Digital Notebooks are a fit for Engineers</a></li>
<li class="chapter" data-level="2.8" data-path="data-science-for-petroleum-production-engineering-part-1.html"><a href="data-science-for-petroleum-production-engineering-part-1.html#python-or-r"><i class="fa fa-check"></i><b>2.8</b> <code>Python</code> or <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html"><i class="fa fa-check"></i><b>3</b> DSPPE - Acquiring the Data (part 2)</a><ul>
<li class="chapter" data-level="3.1" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#an-engineering-library"><i class="fa fa-check"></i><b>3.1</b> An engineering library</a></li>
<li class="chapter" data-level="3.2" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#multiwell-scanning"><i class="fa fa-check"></i><b>3.2</b> Multiwell Scanning</a></li>
<li class="chapter" data-level="3.3" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#data-frames-and-data-tables"><i class="fa fa-check"></i><b>3.3</b> Data frames and data tables</a></li>
<li class="chapter" data-level="3.4" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#the-excel-way"><i class="fa fa-check"></i><b>3.4</b> The Excel way :(</a></li>
<li class="chapter" data-level="3.5" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#scripting-in-python"><i class="fa fa-check"></i><b>3.5</b> Scripting in Python</a></li>
<li class="chapter" data-level="3.6" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#loading-the-dataset"><i class="fa fa-check"></i><b>3.6</b> Loading the dataset</a></li>
<li class="chapter" data-level="3.7" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#plotting"><i class="fa fa-check"></i><b>3.7</b> Plotting</a></li>
<li class="chapter" data-level="3.8" data-path="dsppe-acquiring-the-data-part-2.html"><a href="dsppe-acquiring-the-data-part-2.html#what-are-we-learning-so-far"><i class="fa fa-check"></i><b>3.8</b> What are we learning so far?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html"><i class="fa fa-check"></i><b>4</b> <span class="math inline">\(DSP^2E\)</span> - The Well Network Dataset (part 3)</a><ul>
<li class="chapter" data-level="4.1" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#scanning-well-datasets"><i class="fa fa-check"></i><b>4.1</b> Scanning well datasets</a></li>
<li class="chapter" data-level="4.2" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#why-the-scripting"><i class="fa fa-check"></i><b>4.2</b> Why the scripting</a></li>
<li class="chapter" data-level="4.3" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#the-network-model"><i class="fa fa-check"></i><b>4.3</b> The Network Model</a></li>
<li class="chapter" data-level="4.4" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#the-need-of-automation-for-well-network-modeling"><i class="fa fa-check"></i><b>4.4</b> The need of automation for well network modeling</a></li>
<li class="chapter" data-level="4.5" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#the-network-model-dataset"><i class="fa fa-check"></i><b>4.5</b> The network model dataset</a></li>
<li class="chapter" data-level="4.6" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#reading-the-model-variables-with-automation"><i class="fa fa-check"></i><b>4.6</b> Reading the model variables with automation</a></li>
<li class="chapter" data-level="4.7" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#gathering-auxiliary-data"><i class="fa fa-check"></i><b>4.7</b> Gathering auxiliary data</a></li>
<li class="chapter" data-level="4.8" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#the-field-view"><i class="fa fa-check"></i><b>4.8</b> The field view</a></li>
<li class="chapter" data-level="4.9" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#the-kpis-dataset-for-gas-lift"><i class="fa fa-check"></i><b>4.9</b> The KPIs dataset for Gas Lift</a></li>
<li class="chapter" data-level="4.10" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#other-datasets"><i class="fa fa-check"></i><b>4.10</b> Other datasets</a></li>
<li class="chapter" data-level="4.11" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#basic-statistics"><i class="fa fa-check"></i><b>4.11</b> Basic statistics</a></li>
<li class="chapter" data-level="4.12" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#advanced-statistics"><i class="fa fa-check"></i><b>4.12</b> Advanced statistics</a></li>
<li class="chapter" data-level="4.13" data-path="dsp2e-the-well-network-dataset-part-3.html"><a href="dsp2e-the-well-network-dataset-part-3.html#conclusions"><i class="fa fa-check"></i><b>4.13</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><i class="fa fa-check"></i><b>5</b> “R” and the search of the ideal language for petroleum engineering</a><ul>
<li class="chapter" data-level="5.1" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#the-fun-of-the-21st-century"><i class="fa fa-check"></i><b>5.1</b> The fun of the 21st century</a></li>
<li class="chapter" data-level="5.2" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#what-is-r"><i class="fa fa-check"></i><b>5.2</b> What is R?</a></li>
<li class="chapter" data-level="5.3" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#ploting"><i class="fa fa-check"></i><b>5.3</b> Ploting</a></li>
<li class="chapter" data-level="5.4" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#packages"><i class="fa fa-check"></i><b>5.4</b> Packages</a></li>
<li class="chapter" data-level="5.5" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#foreign-languages"><i class="fa fa-check"></i><b>5.5</b> Foreign languages</a></li>
<li class="chapter" data-level="5.6" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#reproducible"><i class="fa fa-check"></i><b>5.6</b> Reproducible</a></li>
<li class="chapter" data-level="5.7" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#gui-not"><i class="fa fa-check"></i><b>5.7</b> GUI not</a></li>
<li class="chapter" data-level="5.8" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#where-is-everybody"><i class="fa fa-check"></i><b>5.8</b> Where is everybody</a></li>
<li class="chapter" data-level="5.9" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#the-bottom-line"><i class="fa fa-check"></i><b>5.9</b> The bottom line</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="how-big-is-your-data.html"><a href="how-big-is-your-data.html"><i class="fa fa-check"></i><b>6</b> How Big is your Data</a><ul>
<li class="chapter" data-level="6.1" data-path="how-big-is-your-data.html"><a href="how-big-is-your-data.html#everything-is-relative"><i class="fa fa-check"></i><b>6.1</b> Everything is relative</a></li>
<li class="chapter" data-level="6.2" data-path="how-big-is-your-data.html"><a href="how-big-is-your-data.html#how-big-is-big"><i class="fa fa-check"></i><b>6.2</b> How big is big</a></li>
<li class="chapter" data-level="6.3" data-path="how-big-is-your-data.html"><a href="how-big-is-your-data.html#tools-for-every-size"><i class="fa fa-check"></i><b>6.3</b> Tools for every size</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="thp-bhp-matching-from-pdg-data.html"><a href="thp-bhp-matching-from-pdg-data.html"><i class="fa fa-check"></i><b>7</b> THP-BHP matching from PDG data</a><ul>
<li class="chapter" data-level="7.1" data-path="thp-bhp-matching-from-pdg-data.html"><a href="thp-bhp-matching-from-pdg-data.html#matching-is-not-forcing"><i class="fa fa-check"></i><b>7.1</b> Matching is not forcing</a></li>
<li class="chapter" data-level="7.2" data-path="thp-bhp-matching-from-pdg-data.html"><a href="thp-bhp-matching-from-pdg-data.html#dp-plot"><i class="fa fa-check"></i><b>7.2</b> DP plot</a></li>
<li class="chapter" data-level="7.3" data-path="thp-bhp-matching-from-pdg-data.html"><a href="thp-bhp-matching-from-pdg-data.html#it-is-not-only-the-vlp-curve-dont-blame-the-tubing-performance-curve"><i class="fa fa-check"></i><b>7.3</b> It is not only the VLP curve / Don’t blame the tubing performance curve</a></li>
<li class="chapter" data-level="7.4" data-path="thp-bhp-matching-from-pdg-data.html"><a href="thp-bhp-matching-from-pdg-data.html#closing"><i class="fa fa-check"></i><b>7.4</b> Closing</a></li>
<li class="chapter" data-level="7.5" data-path="thp-bhp-matching-from-pdg-data.html"><a href="thp-bhp-matching-from-pdg-data.html#glossary"><i class="fa fa-check"></i><b>7.5</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><i class="fa fa-check"></i><b>8</b> Building your own petroleum engineering library with R: zFactor v0.1.7</a><ul>
<li class="chapter" data-level="8.1" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html#cran-and-github"><i class="fa fa-check"></i><b>8.1</b> CRAN and Github</a></li>
<li class="chapter" data-level="8.2" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html#new-features"><i class="fa fa-check"></i><b>8.2</b> New features</a></li>
<li class="chapter" data-level="8.3" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html#mape"><i class="fa fa-check"></i><b>8.3</b> MAPE</a></li>
<li class="chapter" data-level="8.4" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html#rmse"><i class="fa fa-check"></i><b>8.4</b> RMSE</a></li>
<li class="chapter" data-level="8.5" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html#maape"><i class="fa fa-check"></i><b>8.5</b> MAAPE</a></li>
<li class="chapter" data-level="8.6" data-path="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html"><a href="building-your-own-petroleum-engineering-library-with-r-zfactor-v0-1-7.html#the-zfactor-website"><i class="fa fa-check"></i><b>8.6</b> The zFactor website</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Petroleum Production Engineers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="building-your-own-petroleum-engineering-library-with-r-zfactor-v0.1.7" class="section level1">
<h1><span class="header-section-number">8</span> Building your own petroleum engineering library with R: zFactor v0.1.7</h1>
<div id="cran-and-github" class="section level2">
<h2><span class="header-section-number">8.1</span> CRAN and Github</h2>
<p>I just released last night a new version of zFactor: v0.1.7. As of this morning, the package has been accepted by CRAN, the Comprehensive R Network Archive. All the code, notes, datasets, notebooks, documentation is publicly available via GitHub at this link.</p>
<p>The zFactor R package also includes its own website: <a href="https://f0nzie.github.io/zFactor/" class="uri">https://f0nzie.github.io/zFactor/</a></p>
<p>That is one of the neat things about R: the code and documentation that you write for your package can also be used for automatically generating a website in GitHub. I used pkgdown, another R package developed by the tireless genius of data science Hadley Wickham.</p>
</div>
<div id="new-features" class="section level2">
<h2><span class="header-section-number">8.2</span> New features</h2>
<p>There are some new things in zFactor v0.1.7:</p>
<p>A new correlation by I. Papp which was graciously provided by William Donovan in SPEConnect. Papp’s is one of the few z factor correlations that is explicit; it doesn’t require to perform loop iterations like in the implicit correlations Hall-Yarborough, Dranchuk-AbouKassem, Dranchuk-Purvis-Robinson, etc. I couldn’t find the original paper by Papp in English. It was released in 1979. Please, if you find the paper, I would appreciate if you share it with me. I found documentation though on the correlation in papers and books. See the references and bibliography at the zFactor website. This is the for the Papp correlation code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">.z.Papp &lt;-<span class="st"> </span><span class="cf">function</span>(pres.pr, temp.pr,                           <span class="dt">tolerance =</span> <span class="fl">1e-13</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>) {
    <span class="co"># core function</span>
    <span class="co"># Papp compressibility factor</span>

    x &lt;-<span class="st"> </span>pres.pr <span class="op">/</span><span class="st"> </span>temp.pr<span class="op">^</span><span class="dv">2</span>
    a &lt;-<span class="st"> </span><span class="fl">0.1219</span> <span class="op">*</span><span class="st"> </span>temp.pr<span class="op">^</span><span class="fl">0.638</span>
    b &lt;-<span class="st"> </span>temp.pr <span class="op">-</span><span class="st"> </span><span class="fl">7.76</span> <span class="op">+</span><span class="st"> </span><span class="fl">14.75</span> <span class="op">/</span><span class="st"> </span>temp.pr
    c &lt;-<span class="st"> </span><span class="fl">0.3</span> <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="fl">0.441</span> <span class="op">*</span><span class="st"> </span>x<span class="op">^</span><span class="dv">2</span>

    z &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>a <span class="op">*</span><span class="st"> </span>(x <span class="op">-</span><span class="st"> </span>b) <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">exp</span>(<span class="op">-</span>c))

    <span class="kw">return</span>(z)
}</code></pre></div>
<p>Very simple, isn’t it?</p>
</div>
<div id="mape" class="section level2">
<h2><span class="header-section-number">8.3</span> MAPE</h2>
<p>Comparatively, the correlation looks fairly acceptable if you are in a hurry and need a quick calculation. Below, you can see the Mean Absolute Percentage Error (MAPE) plot for Papp. It shows similar weaknesses at the isotherms 1.05 and 1.1 with a spot clearly with 25% error and few others at more than 25% (gray areas). You will able to see more statistical comparisons, such as the Root Mean Square Error (RMSE), in the package website itself.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;./images/papp_mape.png&quot;</span>)</code></pre></div>
<p><img src="images/papp_mape.png" width="800px" /></p>
</div>
<div id="rmse" class="section level2">
<h2><span class="header-section-number">8.4</span> RMSE</h2>
<p>There are two vignettes or R documentation pages devoted to statistical comparison: (1) selecting the correlation; and (2) measuring errors in calculating z. You will see functions and plots that were used while trying to select the most accurate correlation. Below I am showing the RMSE for all the correlations under study. You may find that only an error measure could not be enough to qualify a particular correlation.</p>
<p><img src="images/boxplot.png" width="672" /></p>
<p>This is where data science tools come in pretty handy. Plotting makes things clearer if one measure is not enough. Let’s take for instance the RMSE heatmap plot for Papp. If MAPE measure was not enough RMSE could give a better hint:</p>
<p><img src="images/papp_rmse.png" width="672" /></p>
<p>and compare it against Dranchuk-AbouKassem (DAK), one of the most stable and used in the industry:</p>
<p><img src="images/daj_rmse.png" /><!-- --></p>
</div>
<div id="maape" class="section level2">
<h2><span class="header-section-number">8.5</span> MAAPE</h2>
<p>Another new thing in zFactor is the addition of a new statistical error measure: the Mean Arc-tangent Absolute Error or MAAPE. It is a very interesting measure because of two reasons: it is based on the Mean Absolute Percentage Error (easy to understand), it doesn’t depend on the scale and fixes the problem with small numbers, especially, when they tend to zero because of the term for the actual or current values in the denominator.</p>
<p><img src="images/mape_formula.jpg" /><!-- --></p>
<p>In fact, the author of the paper “A new metric of absolute percentage error for intermittent demand forecasts” used some geometry analogy to show that if we take the numerator and denominator of MAPE and put it in a triangle rectangle like so:</p>
<p><img src="images/arctan_MAAPE.jpg" /><!-- --></p>
<p>then, instead of MAPE being the slope, we could come up with MAAPE where the angle theta is the arc tangent of MAPE elements. The solution is pretty neat since instead of getting from MAPE infinite as an answer, we get pi/2, when the denominator tends to zero.</p>
</div>
<div id="the-zfactor-website" class="section level2">
<h2><span class="header-section-number">8.6</span> The zFactor website</h2>
<p>There are other new feature in zFactor such as the ability of the package of functioning as a website, functions have been improved to allow more statistical measures such as RMSE and the new MAAPE. Finally, I was able to find the paper “Comparing Methods for Calculating z Factor” by Professor Gabor Takacs, which is always referred as a source when dealing with correlations for the compressibility factor. The link is also available in the zFactor website.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="thp-bhp-matching-from-pdg-data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/zFactor017.Rmd",
"text": "Edit"
},
"download": ["data_science_ptech.pdf", "data_science_ptech.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
