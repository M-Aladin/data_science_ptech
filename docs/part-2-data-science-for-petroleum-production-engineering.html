<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science for Petroleum Production Engineers</title>
  <meta name="description" content="This is the start of the book of a simple data science book.">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Data Science for Petroleum Production Engineers" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the start of the book of a simple data science book." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science for Petroleum Production Engineers" />
  
  <meta name="twitter:description" content="This is the start of the book of a simple data science book." />
  

<meta name="author" content="Alfonso R. Reyes">


<meta name="date" content="2017-06-08">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="part-1-data-science-for-petroleum-production-engineering.html">
<link rel="next" href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The Zero Draft Book </a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="part-1-data-science-for-petroleum-production-engineering.html"><a href="part-1-data-science-for-petroleum-production-engineering.html"><i class="fa fa-check"></i><b>1</b> Part 1: Data Science for Petroleum Production Engineering</a><ul>
<li class="chapter" data-level="1.1" data-path="part-1-data-science-for-petroleum-production-engineering.html"><a href="part-1-data-science-for-petroleum-production-engineering.html#the-old-vs-the-new"><i class="fa fa-check"></i><b>1.1</b> The Old vs the New</a></li>
<li class="chapter" data-level="1.2" data-path="part-1-data-science-for-petroleum-production-engineering.html"><a href="part-1-data-science-for-petroleum-production-engineering.html#why-does-it-take-so-long-to-build-optimization-models"><i class="fa fa-check"></i><b>1.2</b> Why does it take so long to build optimization models?</a></li>
<li class="chapter" data-level="1.3" data-path="part-1-data-science-for-petroleum-production-engineering.html"><a href="part-1-data-science-for-petroleum-production-engineering.html#data-structures-are-our-friends"><i class="fa fa-check"></i><b>1.3</b> Data Structures are our friends</a></li>
<li class="chapter" data-level="1.4" data-path="part-1-data-science-for-petroleum-production-engineering.html"><a href="part-1-data-science-for-petroleum-production-engineering.html#remember-garbage-in-garbage-out"><i class="fa fa-check"></i><b>1.4</b> Remember Garbage In, Garbage Out</a></li>
<li class="chapter" data-level="1.5" data-path="part-1-data-science-for-petroleum-production-engineering.html"><a href="part-1-data-science-for-petroleum-production-engineering.html#the-python-notebooks-are-a-fit-for-production-engineers"><i class="fa fa-check"></i><b>1.5</b> The Python notebooks are a fit for production engineers</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html"><i class="fa fa-check"></i><b>2</b> Part 2: Data Science for Petroleum Production Engineering</a><ul>
<li class="chapter" data-level="2.1" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html#multiwell-scanning"><i class="fa fa-check"></i><b>2.2</b> Multiwell Scanning</a></li>
<li class="chapter" data-level="2.3" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html#dataframes"><i class="fa fa-check"></i><b>2.3</b> Dataframes</a></li>
<li class="chapter" data-level="2.4" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html#excel"><i class="fa fa-check"></i><b>2.4</b> Excel</a></li>
<li class="chapter" data-level="2.5" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html#scripting-in-python"><i class="fa fa-check"></i><b>2.5</b> Scripting in Python</a></li>
<li class="chapter" data-level="2.6" data-path="part-2-data-science-for-petroleum-production-engineering.html"><a href="part-2-data-science-for-petroleum-production-engineering.html#what-are-we-learning-so-far"><i class="fa fa-check"></i><b>2.6</b> What are we learning so far?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><i class="fa fa-check"></i><b>3</b> Part 3: Data Science For Petroleum Production Engineers - The Well Network Dataset</a><ul>
<li class="chapter" data-level="3.1" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#the-network-model"><i class="fa fa-check"></i><b>3.2</b> The Network Model</a></li>
<li class="chapter" data-level="3.3" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#the-network-model-dataset"><i class="fa fa-check"></i><b>3.3</b> The network model dataset</a></li>
<li class="chapter" data-level="3.4" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#gathering-auxiliary-data"><i class="fa fa-check"></i><b>3.4</b> Gathering auxiliary data</a></li>
<li class="chapter" data-level="3.5" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#the-field-view"><i class="fa fa-check"></i><b>3.5</b> The field view</a></li>
<li class="chapter" data-level="3.6" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#the-kpis-dataset-for-gas-lift"><i class="fa fa-check"></i><b>3.6</b> The KPIs dataset for Gas Lift</a></li>
<li class="chapter" data-level="3.7" data-path="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html"><a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html#conclusions"><i class="fa fa-check"></i><b>3.7</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><i class="fa fa-check"></i><b>4</b> “R” and the search of the ideal language for petroleum engineering</a><ul>
<li class="chapter" data-level="4.1" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#the-fun-of-the-21st-century"><i class="fa fa-check"></i><b>4.1</b> The fun of the 21st century</a></li>
<li class="chapter" data-level="4.2" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#what-is-r"><i class="fa fa-check"></i><b>4.2</b> What is R?</a></li>
<li class="chapter" data-level="4.3" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#ploting"><i class="fa fa-check"></i><b>4.3</b> Ploting</a></li>
<li class="chapter" data-level="4.4" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#packages"><i class="fa fa-check"></i><b>4.4</b> Packages</a></li>
<li class="chapter" data-level="4.5" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#foreign-languages"><i class="fa fa-check"></i><b>4.5</b> Foreign languages</a></li>
<li class="chapter" data-level="4.6" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#reproducible"><i class="fa fa-check"></i><b>4.6</b> Reproducible</a></li>
<li class="chapter" data-level="4.7" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#gui-not"><i class="fa fa-check"></i><b>4.7</b> GUI not</a></li>
<li class="chapter" data-level="4.8" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#where-is-everybody"><i class="fa fa-check"></i><b>4.8</b> Where is everybody</a></li>
<li class="chapter" data-level="4.9" data-path="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html"><a href="r-and-the-search-of-the-ideal-language-for-petroleum-engineering.html#the-bottom-line"><i class="fa fa-check"></i><b>4.9</b> The bottom line</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Petroleum Production Engineers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="part-2-data-science-for-petroleum-production-engineering" class="section level1">
<h1><span class="header-section-number">2</span> Part 2: Data Science for Petroleum Production Engineering</h1>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">2.1</span> Introduction</h2>
<p>In the past session we got an introduction to the multiwell statistics package showing a few of the things that we can do with the Petronas PTech Engineering Library. Now, we will explore some more functionality. It is incredible the huge amount of information when we get from all the wells in one scan pass. The data starts to have sense. A well in isolation or standalone doesn’t tell used much about the field or differences between well parameters from well to well. This is where the power of the multiwell scanning resides.</p>
</div>
<div id="multiwell-scanning" class="section level2">
<h2><span class="header-section-number">2.2</span> Multiwell Scanning</h2>
<p>The multiwell scanning is the process by which we use a Python script to automatically open all the well models in the background, pulling the user-defined parameters and create an output file where the rows are the wells and the well parameters are the columns. The scanning open the optimization software, which could be Petex Prosper, AppSmiths WinGLUE or any other that has a way to share its variables outside the application. In the case of Petronas, we adopted as a standard both. In this example I will use use Prosper. This is how a file with the input variables look like:</p>
<p>These are few of the variables that we want to pull from each of the well models to be scanned. Note that the first 7 columns belong to the decomposition of the Petex OpenServer variables. I created this input file to make possible a repeatable selection process. In one of the datasets we will see 94 variable-columns; in other maybe less than 40. You can also have a set of input workbooks; one for PVT analysis, another for well test, or gas lift, or IPR or VLP selection. In another post I will enter in detail about this input worksheet.</p>
</div>
<div id="dataframes" class="section level2">
<h2><span class="header-section-number">2.3</span> Dataframes</h2>
<p>After the script finishes gathering data from the last well you will end up with an output file. The tabular form of the data in that output file is what is called in Python pandas a dataframe. The table looks like this:</p>
</div>
<div id="excel" class="section level2">
<h2><span class="header-section-number">2.4</span> Excel</h2>
<p>Yes, it is Excel. But we just use it as a legacy so any production technologist can see the output without much complication. Some have questioned why we do all this data processing with Python instead of using Excel. The question is very simple, and I think you will quickly understand if you have ever worked with datasets in Excel. I will just cite few of the inconveniences: (1) the macros VBA are alright if you are writing less than a hundred of lines of code; (2) the code in VBA is difficult to maintain and there is no version control like with git or other; (3) Microsoft VBA has its own way of doing things and you have to learn a lot about the internals of the MS libraries if you want to do little above of the ordinary calculations and plotting; (4) VBA code is difficult to share with colleagues and when you make a change or update the code you have to send again the big workbook, in other words there is no updating process embedded within Excel and VBA. Don’t get me wrong. I have done terrific things with Excel VBA but it is painful by the lack of an engineering or scientific community behind as is the case with Python. Let’s say that Excel is good at table visualization and anybody can open and understand it.</p>
<p>But as you get immersed with Python and pandas you will see that using Excel as data containers is purely optional; there are other powerful data structures available out there.</p>
</div>
<div id="scripting-in-python" class="section level2">
<h2><span class="header-section-number">2.5</span> Scripting in Python</h2>
<p>The Python script that open the well models and pulls the data is this:</p>
<p>Each of the lines in the script is explained through a comment above. But let’s briefly explain what this script does. What we are trying to achieve is reading all the Prosper well models located under the folder PISC. You are interested in reading some variables from these models and putting them in a table-like structure for statistical analysis later. These variables have been defined in the input workbook –explained above.</p>
<p>Loading the dataset</p>
<p>Now, you have generated yourself a dataset. This dataset contains the data of 100 wells that was just generated by the application multiwell scanner. Let’s load the dataset with this script:</p>
<p>Immediately with the execution we get some information about the well collection:</p>
<p>Plotting</p>
<p>To start plotting, we can just write:</p>
<p>For artificial lift:</p>
<p>For the IPR methods that were used on each of the well models:</p>
<p>0</p>
<p>And for the PVT correlations:</p>
</div>
<div id="what-are-we-learning-so-far" class="section level2">
<h2><span class="header-section-number">2.6</span> What are we learning so far?</h2>
<p>At this moment you may be wondering: well modeling is hard; it takes a lot of work. So many variables to take care of. Yes, it is. That’s why getting a network model ready for scenarios and simulation takes so long.</p>
<p>The advantage here, with the Python PTech Library, is that we are acting on multiple wells; not just one. There is a significant reduction in time and improvement in the quality of the data by tackling the problem in this way. But requires a toolbox: the toolbox of the data scientist. You are now using the bleeding edge of the digital tools available to the brightest minds in the world to find more oil; faster and efficiently.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="part-1-data-science-for-petroleum-production-engineering.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="part-3-data-science-for-petroleum-production-engineers-the-well-network-dataset.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/p2_ds_for_ppe.Rmd",
"text": "Edit"
},
"download": ["data_science_ptech.pdf", "data_science_ptech.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
